# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é –Ω–∞ –æ–±–∏–¥–≤–∞ —Ö–æ—Å—Ç–∏–Ω–≥–∏

## üéØ –ü–æ—Ç–æ—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–ü—Ä–∏ –∫–æ–∂–Ω–æ–º—É push –≤ GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ø–ª–æ—ó—Ç—å—Å—è –Ω–∞:
1. **Hostinger** - —á–µ—Ä–µ–∑ GitHub Webhook (–≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
2. **mx395217.ftp.tools** - —á–µ—Ä–µ–∑ GitHub Actions (SFTP)

---

## üìã GitHub Webhook –¥–ª—è Hostinger

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GitHub Webhook –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é –Ω–∞ Hostinger

## URL Webhook
```
https://webhooks.hostinger.com/deploy/f8add29293caab24b51da9b07d93cf9b
```

## –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –í—ñ–¥–∫—Ä–∏–π—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è webhooks –≤ GitHub
–ü–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º:
https://github.com/Antongotry/natura/settings/hooks/new

### –ö—Ä–æ–∫ 2: –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É

1. **Payload URL**: 
   ```
   https://webhooks.hostinger.com/deploy/f8add29293caab24b51da9b07d93cf9b
   ```

2. **Content type**: 
   - –í–∏–±–µ—Ä—ñ—Ç—å `application/json`

3. **Which events would you like to trigger this webhook?**
   - –í–∏–±–µ—Ä—ñ—Ç—å **"Just the push event"** –∞–±–æ **"Let me select individual events"** —ñ –æ–±–µ—Ä—ñ—Ç—å:
     - ‚úÖ Push
     - ‚úÖ Branch or tag creation
     - ‚úÖ Branch or tag deletion (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

4. **Active**: 
   - ‚úÖ –ü–æ—Å—Ç–∞–≤—Ç–µ –≥–∞–ª–æ—á–∫—É (–º–∞—î –±—É—Ç–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)

5. **Secret** (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):
   - –ó–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º, —è–∫—â–æ Hostinger –Ω–µ –≤–∏–º–∞–≥–∞—î secret

### –ö—Ä–æ–∫ 3: –ó–±–µ—Ä–µ–∂—ñ—Ç—å webhook
–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **"Add webhook"**

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
1. –ó—Ä–æ–±—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–∏–π –∫–æ–º—ñ—Ç:
   ```bash
   git commit --allow-empty -m "TEST: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ webhook"
   git push
   ```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ GitHub:
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Settings ‚Üí Webhooks
   - –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à webhook
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ—Å—Ç–∞–Ω–Ω—ñ delivery (–æ—Å—Ç–∞–Ω–Ω—ñ –≤–∏–∫–ª–∏–∫–∏)
   - –ú–∞—î –±—É—Ç–∏ —Å—Ç–∞—Ç—É—Å 200 (—É—Å–ø—ñ—à–Ω–æ)

3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ Hostinger:
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –ø–∞–Ω–µ–ª—å Hostinger
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—é
   - –§–∞–π–ª–∏ –º–∞—é—Ç—å –æ–Ω–æ–≤–∏—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

## –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –Ø–∫—â–æ webhook –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∫–∞–∑–∞–Ω–æ URL
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ delivery –≤ GitHub (Settings ‚Üí Webhooks ‚Üí –≤–∞—à webhook ‚Üí Recent Deliveries)
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π git config –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ (–¥–∏–≤. –Ω–∏–∂—á–µ)

### –Ø–∫—â–æ –¥–µ–ø–ª–æ–π –ø–∞–¥–∞—î –∑ –ø–æ–º–∏–ª–∫–æ—é –ø—Ä–æ —Ä–æ–∑–±—ñ–∂–Ω—ñ –≥—ñ–ª–∫–∏:

**–ö—Ä–æ–∫ 1: –í–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —á–µ—Ä–µ–∑ SSH:**
```bash
cd /wp-content/themes/natura
bash fix-deployment.sh
```

–ê–±–æ –≤—Ä—É—á–Ω—É:
```bash
cd /wp-content/themes/natura
git config --global pull.rebase false
git config --global pull.ff only
git config pull.rebase false
git config pull.ff only
```

**–ö—Ä–æ–∫ 2: –ó–º—ñ–Ω—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–µ–ø–ª–æ—é –≤ Hostinger:**

–í –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é Hostinger –∑–∞–º—ñ–Ω—ñ—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É –∫–æ–º–∞–Ω–¥—É `git pull` –Ω–∞:

**–í–∞—Ä—ñ–∞–Ω—Ç 1 (–†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û):**
```bash
bash deploy.sh
```

**–í–∞—Ä—ñ–∞–Ω—Ç 2:**
```bash
git fetch origin && git reset --hard origin/main
```

**–í–∞—Ä—ñ–∞–Ω—Ç 3:**
```bash
git pull --no-rebase --ff-only
```

### –Ø–∫—â–æ webhook –ø—Ä–∞—Ü—é–≤–∞–≤ —Ä–∞–Ω—ñ—à–µ, –∞–ª–µ –∑–∞—Ä–∞–∑ –Ω–µ –ø—Ä–∞—Ü—é—î:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ delivery –≤ GitHub (Settings ‚Üí Webhooks ‚Üí Recent Deliveries)
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –Ω–µ –∑–º—ñ–Ω–∏–ª–∞—Å—è –∫–æ–º–∞–Ω–¥–∞ –¥–µ–ø–ª–æ—é –≤ Hostinger
3. –í–∏–∫–æ–Ω–∞–π—Ç–µ `fix-deployment.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
4. –ó—Ä–æ–±—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–∏–π –∫–æ–º—ñ—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

---

## üöÄ GitHub Actions –¥–ª—è mx395217.ftp.tools

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Secrets –≤ GitHub

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Settings ‚Üí Secrets and variables ‚Üí Actions**
2. –î–æ–¥–∞–π—Ç–µ **New repository secret**:

| Name | Value |
|------|-------|
| `MX395217_SFTP_HOST` | `mx395217.ftp.tools` |
| `MX395217_SFTP_USER` | `mx395217` |
| `MX395217_SFTP_PASS` | `Nature0211` |

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

–ü—Ä–∏ –∫–æ–∂–Ω–æ–º—É push –≤ –≥—ñ–ª–∫—É `main`:
- ‚úÖ GitHub Webhook –¥–µ–ø–ª–æ—ó—Ç—å –Ω–∞ **Hostinger**
- ‚úÖ GitHub Actions –¥–µ–ø–ª–æ—ó—Ç—å –Ω–∞ **mx395217.ftp.tools**

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏1. –ó—Ä–æ–±—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤–∏–π –∫–æ–º—ñ—Ç:
   ```bash
   git commit --allow-empty -m "TEST: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–µ–ø–ª–æ—é"
   git push
   ```2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ GitHub:
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Actions** (–≤–µ—Ä—Ö–Ω—î –º–µ–Ω—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é)
   - –ó–Ω–∞–π–¥—ñ—Ç—å workflow "Deploy to both hostings"
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—ñ –∫—Ä–æ–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ ‚úÖ3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞ –æ–±–æ—Ö —Ö–æ—Å—Ç–∏–Ω–≥–∞—Ö:
   - Hostinger - —Ñ–∞–π–ª–∏ –º–∞—é—Ç—å –æ–Ω–æ–≤–∏—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
   - mx395217.ftp.tools - —Ñ–∞–π–ª–∏ –º–∞—é—Ç—å –æ–Ω–æ–≤–∏—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

---

## üìù –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

–î–∏–≤. `.github/workflows/README.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GitHub Actions.
